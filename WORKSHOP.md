# †開発を加速させる黒魔術講座† | Go Conference 2025 ワークショップ

## [Delve デバッガによる Go プログラムのデバッグ](https://newmo-oss.github.io/gocon25-workshop/delve?index=gocon25-workshop)

### Delve とは

Delve は Go 言語用のデバッガです。Delve を使うと、Go プログラムの実行を一時停止して変数の値を調べたり、プログラムをステップ実行したりすることができます。

### ワークショップでやること

バグが入っているサンプルプログラムを Delve でデバッグして、ブレークポイントでのプログラムの停止やステップ実行を駆使してバグを発見・修正しましょう！

### できるようになること

サンプルプログラムを通じて Delve の基本的な使い方を学ぶことで、Go のプログラムのデバッガを用いてデバッグできるようになり、バグを効率的に発見・修正できるようになります！

## [overlay によるソースコードの上書き](https://newmo-oss.github.io/gocon25-workshop/overlay?index=gocon25-workshop)

### overlay とは

overlay は ビルド時に特定のソースコードファイルを別のファイルで置き換えるための機能です。`go build -overlay` フラグを使用することで、任意のソースコードを上書きしてビルドすることができます。

### ワークショップでやること

overlay の基本的な使い方を学び、標準パッケージの関数をテスト用に置き換えてみましょう！

### できるようになること

サンプルプログラムを通じて overlay の基本的な使い方を学ぶことで、Go のビルドでソースコードの一部を上書きできるようになり、テストや実験などで柔軟にコードを差し替えられるようになります！

## [toolexec による Go ツールチェーンのフック](https://newmo-oss.github.io/gocon25-workshop/toolexec?index=gocon25-workshop)

### toolexec とは

toolexec は Go のビルドツールチェーン（compile、link、asm など）の実行をフックして、カスタムツールを差し込むための機能です。`go build -toolexec` フラグを使用することで、コンパイラやリンカの動作を拡張・変更できます。

### ワークショップでやること

toolexec を使って Go のビルドプロセスを可視化・カスタマイズします。ビルドツールの実行を透過的にラップし、ビルドプロセスの観察、そして Gopher アートでビルドを楽しく演出する方法を学びます！

### できるようになること

このワークショップを通じて toolexec の基本的な仕組みを理解し、ビルドプロセスの測定・監視や、CI/CD パイプラインでの活用など、実践的な応用ができるようになります！

## [Go Assemblyで低レイヤに触れてみよう](https://newmo-oss.github.io/gocon25-workshop/assembly?index=gocon25-workshop)

### Go Assembly とは

Go では Plan 9 形式のアセンブリ言語を使って、`.s` ファイルに記述することで、Go から直接呼び出せるアセンブリ関数を実装できます。

### ワークショップでやること

Go コードから生成されるアセンブリを読んで理解し、簡単な算術関数（Add、Sub）をアセンブリで実装します。AMD64 と ARM64 両方のアーキテクチャに対応した実装を学びます！

### できるようになること

このワークショップを通じて Go のアセンブリ記法の基本を習得し、標準ライブラリや Go ランタイムの実装を理解する力が身につきます！

## [reflect パッケージによるメタプログラミング](https://newmo-oss.github.io/gocon25-workshop/reflect/?index=gocon25-workshop)

### reflect とは

reflect は Go 言語の標準パッケージのひとつです。ランタイムの型や値の情報を取得したり、変更したりするメタプログラミングが可能になります。

### ワークショップでやること

reflect パッケージの基本的なメソッドを利用してメタプログラミングをしましょう！

### できるようになること

このワークショップを通じて reflect パッケージの基本的な使い方を学ぶことで、Go 言語のメタプログラミングの最初の一歩を踏み出すことができるようになります！

## [Go ジェネリクスで型安全なコードを書こう](https://newmo-oss.github.io/gocon25-workshop/generics?index=gocon25-workshop)

### ジェネリクスとは

generics は Go 1.18 で導入された機能で、型パラメータを使って複数の型に対応する汎用的なコードを実装できる仕組みです。型アサーションや interface{} を使わずに、コンパイル時に型チェックされる再利用可能なコードを書けます。

### ワークショップでやること

generics を使ったコードを色々触って、どんな事ができるのか見ていきます。
最終的に JSON を Unmarshal するコードを書いていきます。

### できるようになること

Generics の基本的な使い方を試すことで、初めて Go の Generics を触る人でもどういう場面で使えそうかイメージできるようになります。

## [Suggested Fix で lint エラーを修正しよう](https://newmo-oss.github.io/gocon25-workshop/suggestedfix?index=gocon25-workshop)

### Suggested Fix とは

Suggested Fix は golang.org/x/tools/go/analysis パッケージが提供する自動修正機能です。analysis パッケージを用いて見つけた警告に対して、修正を適用できます。

### ワークショップでやること

静的解析ツールを実装して、見つけた lint エラーになるコードを自動で修正します。

### できるようになること

このワークショップを通じて静的解析ツールの作り方から、 suggested fix の仕組みまでを理解できるようになります。
自作の linter が作れるようになり、 golangci-lint などの実装にも思いを巡らせられるようになります。

---

## [`unsafe`パッケージの強力さと危なさを学ぼう](https://newmo-oss.github.io/gocon25-workshop/unsafe?index=gocon25-workshop)

### `unsafe`パッケージとは

`unsafe`パッケージは Go の型安全性を回避して低レベルのメモリ操作を可能にする標準パッケージです。`unsafe.Pointer`型を使うと任意の型のポインタを相互変換でき、通常はアクセスできない非公開フィールドへのアクセスや、メモリレイアウトの直接操作が可能になります。

### ワークショップでやること

非公開フィールドへのアクセス、構造体サイズのコンパイル時検証、スライスの内部構造の操作を実践します。`unsafe.Pointer`型、`unsafe.Sizeof`関数、`uintptr`型、`unsafe.Add`関数などの使い方を学びながら、Goランタイムの内部実装を覗いてみましょう！

### できるようになること

このワークショップを通じて`unsafe`パッケージの基本的な使い方と危険性を理解し、パフォーマンスが重要な場面での活用方法を学べます。また、コンパイル時チェックによる防御的プログラミングの手法も身につけられます！

## [ビルドタグによる時限爆弾型の脆弱性について学ぼう](https://newmo-oss.github.io/gocon25-workshop/buildtag?index=gocon25-workshop)

### ビルドタグとは

ビルドタグ（build constraint）は、特定の条件下でのみファイルをビルドに含めるためのGoの仕組みです。プラットフォーム固有のコードやGoバージョン固有のコードの切り替えに使用されますが、悪意のある開発者によって将来のGoバージョンでのみ実行される時限爆弾攻撃に悪用される可能性があります。

### ワークショップでやること

ビルドタグを使った時限爆弾攻撃の作成と検証、静的解析ツールがビルドタグ付きファイルを見逃す仕組みの確認を行います。`GOTOOLCHAIN`環境変数を使って異なるGoバージョンでの動作を実際に体験し、`go vet`コマンドによる静的解析の限界を学びます！

### できるようになること

このワークショップを通じてビルドタグの危険性と静的解析の限界を理解し、依存関係のセキュリティ監査にビルドタグチェックを組み込む重要性を学べます。将来のGoバージョンを指定した悪意のあるコードを検出する方法も身につけられます！

---
